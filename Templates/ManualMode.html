<h2 class="h3 font-weight-bold mb-4">Manual Mode - Sensor Readings</h2>
<div class="row justify-content-center">
    <!-- pH Sensor -->
    <div class="col-md-4">
        <div class="card shadow-sm">
            <div class="card-body">
                <h5 class="card-title">pH Sensor</h5>
                <h3 id="ph" class="display-4"></h3>
            </div>
        </div>
    </div>
    <!-- Temperature Sensor -->
    <div class="col-md-4">
        <div class="card shadow-sm">
            <div class="card-body">
                <h5 class="card-title">Temperature</h5>
                <h3 id="temperature" class="display-4"></h3>
            </div>
        </div>
    </div>
    <!-- Humidity Sensor -->
    <div class="col-md-4">
        <div class="card shadow-sm">
            <div class="card-body">
                <h5 class="card-title">Humidity</h5>
                <h3 id="humidity" class="display-4"></h3>
            </div>
        </div>
    </div>
</div>

<!-- Include Axios (if not already included in your project) -->
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<script>
    document.addEventListener("DOMContentLoaded", function() {

        async function fetchSensorData() {
            try {
                const response = await axios.get('http://127.0.0.1:8000/api/sensors'); // FastAPI URL for fetching sensor data
                const data = response.data;

                // Update the DOM elements with the fetched sensor data
                document.getElementById('temperature').textContent = data.temperature + ' Â°C';
                document.getElementById('humidity').textContent = data.humidity + '%';
                document.getElementById('ph').textContent = "7.0";  // Static example, replace if dynamic pH data is available
            } catch (error) {
                console.error('Error fetching sensor data:', error);
                document.getElementById('temperature').textContent = 'Error loading temperature';
                document.getElementById('humidity').textContent = 'Error loading humidity';
                document.getElementById('ph').textContent = 'Error loading pH';
            }
        }

        // Fetch sensor data on page load and every 5 seconds
        fetchSensorData();
        setInterval(fetchSensorData, 5000);  // Refresh sensor data every 5 seconds
    });
</script>



